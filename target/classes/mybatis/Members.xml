<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dev.mvc.members.MembersDAOInter"> 

<insert id="mem_create" parameterType="MemberVO">
     INSERT INTO members(mem_no, mem_id, mem_name, mem_passwd, mem_tel, mem_email, mem_zipcode, mem_address1, mem_address2, mem_rdate)
      VALUES((SELECT NVL(MAX(mem_no), 0) + 1 as mem_no FROM members),
       #{mem_id}, #{mem_name}, #{mem_passwd}, #{mem_tel}, #{mem_email}, #{mem_zipcode}, #{mem_address1}, #{mem_address2}, #{mem_rdate})
   </insert>
   
   <select id="list_mem_no_asc" resultType="MembersVO">
     SELECT mem_no, mem_id, mem_name, mem_passwd, mem_tel, mem_email, mem_zipcode, mem_address1, mem_address2, mem_rdate
     FROM members
     ORDER BY mem_no ASC
   </select>
   
   <select id="mem_checkId" resultType="int" parameterType="String">
      SELECT COUNT(mem_id) as cnt
      FROM members
      WHERE mem_id=#{mem_id}
  </select> 
  
  

</mapper>